(this.webpackJsonprepetit=this.webpackJsonprepetit||[]).push([[0],{11:function(e,t,n){},13:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(6),i=n.n(r),s=(n(11),n(3)),u=n.n(s),o=n(5),l=n(2),j=(n(13),n(0)),d=function(e){var t=e.children,n=e.value,c=e.onChange,a=e.defaultValue,r=t.map((function(e){return Object(j.jsx)("option",{id:e.id,children:e.name},e.id)}));return Object(j.jsxs)("select",{className:"filter-select",value:n,onChange:function(e){c(t.find((function(t){if(t.name===e.target.value)return t})))},children:[Object(j.jsxs)("option",{children:[" ",a," "]}),r]})},b=function(e){var t=e.children,n=e.onClick,c=e.className;return Object(j.jsx)("button",{className:"btn ".concat(c),onClick:n,children:t})},f=function(e){var t=e.tutorObject;return Object(j.jsxs)("div",{className:"tutor-card",children:[Object(j.jsx)("img",{className:"tutor-card__avatar",src:t.photoPath,alt:"\u0424\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044f \u0440\u0435\u043f\u0435\u0442\u0438\u0442\u043e\u0440\u0430"})," ",Object(j.jsxs)("div",{className:"tutor-card__add-info",children:[Object(j.jsxs)("p",{className:"tutor-card__name",children:[t.firstName," ",t.patrName]}),Object(j.jsxs)("p",{className:"tutor-card__subject",children:[" ",t.subject," "]})," ",Object(j.jsxs)("p",{className:"tutor-card__price",children:[" \u043e\u0442 ",t.minPricePerHour," \u0440 "]})]})]})};var h=function(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)([]),i=Object(l.a)(r,2),s=i[0],h=i[1],p=Object(c.useState)([]),m=Object(l.a)(p,2),O=m[0],v=m[1],x=Object(c.useState)({name:"",id:null}),N=Object(l.a)(x,2),g=N[0],S=N[1],P=Object(c.useState)({name:"",id:null}),C=Object(l.a)(P,2),_=C[0],k=C[1],I=Object(c.useState)({name:"",id:null}),w=Object(l.a)(I,2),E=w[0],y=w[1],F=Object(c.useState)([]),V=Object(l.a)(F,2),H=V[0],B=V[1],J=Object(c.useState)([77475,41671,258]),L=Object(l.a)(J,2),T=L[0],q=L[1],A=Object(c.useState)([]),D=Object(l.a)(A,2),M=D[0],z=D[1],G=Object(c.useState)(10),K=Object(l.a)(G,2),Q=K[0],R=K[1];Object(c.useEffect)((function(){U(0,10)}),[H]),Object(c.useEffect)((function(){Promise.all([fetch("https://api.repetit.ru/public/subjects"),fetch("https://api.repetit.ru/public/areas")]).then((function(e){return Promise.all(e.map((function(e){return e.json()})))})).then((function(e){a(e[0]),h(e[1])}))}),[]),Object(c.useEffect)((function(){var e="?";T.forEach((function(t,n){e+="Ids[".concat(n,"]=").concat(t,"&")}));(function(){var t=Object(o.a)(u.a.mark((function t(){var n,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://api.repetit.ru/public/teachers/short"+e);case 2:return n=t.sent,t.next=5,n.json();case 5:c=t.sent,z(c);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[T]),Object(c.useEffect)((function(){fetch("https://api.repetit.ru/public/districts?AreaId="+(_.id||1)).then((function(e){return e.json()})).then((function(e){return v(e)})).catch((function(e){return console.error(e)}))}),[_.id]);var U=function(e,t){var n=H.slice(e,t);q((function(e){return e.concat(n)}))};return Object(j.jsxs)("div",{className:"wrapper",children:[Object(j.jsxs)("div",{className:"filter-panel",children:[Object(j.jsx)(d,{defaultValue:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043f\u0440\u0435\u0434\u043c\u0435\u0442",value:g.name,onChange:S,children:n.map((function(e){return{id:e.id,name:e.name}}))}),Object(j.jsx)(d,{defaultValue:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0433\u043e\u0440\u043e\u0434",value:_.name,onChange:k,children:s.map((function(e){return{id:e.id,name:e.cityName}}))}),Object(j.jsx)(d,{defaultValue:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0440\u0430\u0439\u043e\u043d",value:E.name,onChange:y,children:O.map((function(e){return{id:e.id,name:e.name}}))}),Object(j.jsx)(b,{onClick:function(){q([]),function(){var e=Object(o.a)(u.a.mark((function e(){var t,n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="https://api.repetit.ru/public/search/teacherIds?areaId=".concat(_.id,"&districtId=").concat(E.id,"&subjectId=").concat(g.id),e.prev=1,e.next=4,fetch(t);case 4:return n=e.sent,e.next=7,n.json();case 7:c=e.sent,B(c),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}()()},className:"btn-main",children:" \u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440 "})]}),Object(j.jsxs)("main",{children:[Object(j.jsx)("div",{className:"tutors-cards",children:M.map((function(e){return Object(j.jsx)(f,{tutorObject:{subject:e.teachingSubjects[0].subject.name,photoPath:e.photoPathSquare,firstName:e.firstName,patrName:e.patrName,id:e.id,minPricePerHour:e.minPricePerHour}},e.id)}))}),Object(j.jsx)(b,{onClick:function(){U(Q,Q+10),R(Q+10)},className:"btn-accent",children:" \u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0435\u0449\u0435 "})]})]})},p=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,16)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),r(e),i(e)}))};i.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(h,{})}),document.getElementById("root")),p()}},[[15,1,2]]]);
//# sourceMappingURL=main.d8c82020.chunk.js.map